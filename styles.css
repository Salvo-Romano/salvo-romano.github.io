/* =============================
   0) Fonts + Tokens (COMUNE)
============================= */
@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap');

:root{
  --bg-color:#eaf2ff; --text-color:#10141b;
  --accent-color:#1f3d8f; --accent-alt:#d6a318;
  --border-color:#c7d3f0; --link-color:#1b66d1; --link-hover:#134aa0;
}

/* Dark mode: SOLO variabili */
@media (prefers-color-scheme: dark){
  :root{
    --bg-color:#0b0f15; --text-color:#e6eaf2;
    --accent-color:#7fb3ff; --accent-alt:#f0c24b;
    --border-color:#283042; --link-color:#8dc0ff; --link-hover:#c6e0ff;
  }
}

/* Background mesh (COMUNE) */
html{ position:relative; z-index:0;
  background:
    radial-gradient(rgba(48,95,114,0.05) 1px, transparent 1px) 0 0/22px 22px,
    linear-gradient(180deg, #edf3ff 0%, #e3ecff 100%);
}
@media (prefers-color-scheme: dark){
  html{ background:
    radial-gradient(rgba(124,194,230,0.08) 1px, transparent 1px) 0 0/24px 24px,
    linear-gradient(180deg,#0a0d0f 0%,#0c1113 100%); }
}
html::before{ content:""; position:fixed; inset:0; z-index:-2;
  background:
    radial-gradient(40% 50% at 15% 10%, rgba(70,130,180,.14), transparent 65%),
    radial-gradient(30% 40% at 85% 0%, rgba(180,200,220,.20), transparent 60%),
    radial-gradient(35% 45% at 90% 85%, rgba(230,190,100,.15), transparent 70%);
  filter: blur(25px) saturate(110%);
}

/* Elementi base (COMUNE) */
body{
  font-family:"Inter", system-ui, Segoe UI, Roboto, Arial, sans-serif;
  letter-spacing:.1px; line-height:1.6; color:var(--text-color);
  background-color:var(--bg-color); transition:background-color .3s,color .3s;
}
h1,h2,h3,h4{ font-family:"Plus Jakarta Sans", Inter, system-ui, sans-serif; font-weight:700; }
a{ color:var(--link-color); text-decoration:none; text-underline-offset:2px; transition:color .2s; }
a:hover{ color:var(--link-hover); text-decoration:underline; }
hr{ border:0; height:2px; margin:14px 0 18px;
    background:linear-gradient(90deg, transparent, var(--border-color), transparent); }
.redacted{ position:relative; color:transparent!important; user-select:none; text-shadow:none; }
.redacted::after{ content:""; position:absolute; inset:.15em 0 .15em 0; background:currentColor; border-radius:2px; }

/* Titoli sezione (COMUNE) */
.section-title{ position:relative; border-left:6px solid var(--accent-alt);
  color:var(--accent-color); border-radius:8px; padding:8px 0 14px 12px; background:rgba(240,247,255,0.75);
  margin:1.6rem 0 1rem; font-size:1.8rem; font-weight:800;
}
.section-title .title-text{ position:relative; display:inline-block; padding-right:2px; }
.section-title .title-text::after{ content:""; position:absolute; left:0; bottom:-8px; height:4px; width:100%;
  background:linear-gradient(90deg, var(--accent-alt) 0%, rgba(255,215,0,0.45) 65%, transparent 100%); border-radius:3px;
}
@media (prefers-color-scheme: dark){ .section-title{ background:rgba(255,255,255,0.05); } }

/* =============================
   1) DESKTOP / TABLET  (>= 721px)
============================= */
@media (min-width: 721px){

  /* Layout contenitore */
  body{
    max-width:980px; margin:40px auto; padding:24px 20px 48px;
    border:1px solid var(--border-color); border-radius:16px;
    box-shadow:0 8px 30px rgba(0,0,0,.06);
  }

  /* Header */
  .profile-header{ display:flex; align-items:center; gap:20px; margin-bottom:1.5rem; }
  .profile-photo{
    display:block; width:120px; height:120px; border-radius:50%; object-fit:cover;
    border:2px solid var(--accent-color); box-shadow:0 10px 24px rgba(31,61,143,.18);
    background: radial-gradient(60% 60% at 30% 30%, rgba(127,179,255,.25), transparent 70%);
  }
  .tag{ font-size:.85rem; padding:2px 8px; border:1px solid var(--border-color); border-radius:999px; }

  /* NAV desktop inline */
  nav{ position:sticky; top:0; z-index:100; margin-top:-8px;
       background:rgba(255,255,255,0.8); backdrop-filter:blur(8px);
       padding:.6rem .4rem; border-bottom:1px solid var(--border-color); }
  @media (prefers-color-scheme: dark){ nav{ background:rgba(16,20,22,0.85); } }
  #nav-toggle, .hamburger{ display:none; }            /* niente hamburger su desktop */
  .nav-links{ display:flex; gap:16px; align-items:center; }
  .nav-links a{ position:relative; margin-right:16px; padding:0; color:var(--text-color); font-weight:500; }
  .nav-links a::after{ content:""; position:absolute; left:0; bottom:-2px; width:0; height:3px;
                        background-color:var(--accent-color); transition:width .25s; }
  .nav-links a:hover::after, .nav-links a.active::after{ width:100%; }
  .nav-links a:hover, .nav-links a.active{ color:var(--accent-color); }

  /* Griglie e card */
  .grid{ display:grid; gap:28px; margin:1rem 0 1.5rem; }
  .grid.two{ grid-template-columns:1fr 1fr; }
  .grid.three{ grid-template-columns:1fr 1fr 1fr; }

  .card{
    border:1px solid var(--border-color); border-radius:14px; padding:22px;
    background:linear-gradient(180deg, rgba(255,255,255,0.92), rgba(232,241,255,0.88));
    box-shadow:0 3px 14px rgba(31,61,143,.12); backdrop-filter:blur(6px);
    transition:transform .15s, box-shadow .15s; margin-bottom:28px;
  }
  .card:hover{ transform:translateY(-3px); box-shadow:0 12px 26px rgba(31,61,143,.18); }
  .card.alt{ border-left:6px solid var(--accent-alt);
             background:linear-gradient(180deg, rgba(31,61,143,.06), rgba(212,160,23,.05)); }
  .card.soft{ background:rgba(230,240,255,.9); }

  /* Hero */
  .hero{
    text-align:center; padding:64px 22px; color:#fff; border-radius:14px; margin-bottom:2rem;
    background: radial-gradient(120% 100% at 0% 0%, #1f3d8f 0%, #2d4fa3 45%, #182a73 100%);
  }
  .hero h2{ margin-bottom:.5rem; font-size:1.8rem; }
  @media (prefers-color-scheme: dark){
    .hero{ background: radial-gradient(120% 100% at 0% 0%, #18244d 0%, #2855b8 40%, #0e152f 100%); }
    .card{ background:rgba(17,20,25,0.8); box-shadow:0 1px 10px rgba(0,0,0,.45); }
    .card.alt{ background:linear-gradient(180deg, rgba(127,179,255,.12), rgba(240,194,75,.08)); }
    .card.soft{ background:rgba(14,19,21,.65); }
  }

  .callout{ border:1px solid var(--border-color); border-left:4px solid var(--accent-color);
            border-radius:12px; padding:14px 16px; margin:18px 0; background:rgba(230,240,255,0.5); }
  .pill-row{ display:flex; flex-wrap:wrap; gap:8px; margin-top:8px; }
  .pill{ font-size:.85rem; padding:4px 10px; border:1px solid var(--border-color); border-radius:999px; background:rgba(230,240,255,0.55); }

  footer{ margin-top:2rem; padding-top:1rem; border-top:1px solid var(--border-color); text-align:center; font-size:.85rem; }
}

/* =============================
   2) MOBILE  (<= 720px)
============================= */
@media (max-width: 720px){

  /* Layout contenitore mobile */
  body{
    max-width:100%; margin:16px auto; padding:16px 14px 28px;
    border-radius:12px; box-shadow:0 4px 16px rgba(0,0,0,.05);
    border:1px solid var(--border-color);
  }

  /* Header impilato + immagine ridotta */
  .profile-header{ display:flex; flex-direction:column; align-items:flex-start; gap:12px; margin-bottom:1rem; }
  .profile-photo{ width:88px; height:88px; border-radius:50%; object-fit:cover;
                  border:2px solid var(--accent-color); box-shadow:0 8px 18px rgba(31,61,143,.14); }

  /* NAV hamburger */
  nav{ position:sticky; top:0; z-index:100; padding:.5rem .5rem; border-bottom:1px solid var(--border-color);
       background:rgba(255,255,255,0.8); backdrop-filter:blur(8px); border-radius:10px; }
  @media (prefers-color-scheme: dark){ nav{ background:rgba(16,20,22,0.85); } }

  #nav-toggle{ position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden; }
  .hamburger{
    display:inline-flex; width:38px; height:34px; align-items:center; justify-content:center;
    border:1px solid var(--border-color); border-radius:10px; cursor:pointer;
    background: rgba(255,255,255,0.75); margin-right:8px;
  }
  @media (prefers-color-scheme: dark){ .hamburger{ background: rgba(16,20,22,0.6); } }
  .hamburger span{ display:block; width:20px; height:2px; background:var(--text-color); margin:3px 0;
                   transition: transform .2s, opacity .2s; }
  #nav-toggle:checked + .hamburger span:nth-child(1){ transform: translateY(5px) rotate(45deg); }
  #nav-toggle:checked + .hamburger span:nth-child(2){ opacity:0; }
  #nav-toggle:checked + .hamburger span:nth-child(3){ transform: translateY(-5px) rotate(-45deg); }

  .nav-links{
    display:none; flex-direction:column; gap:6px; padding:8px; margin-top:10px;
    border:1px solid var(--border-color); border-radius:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(232,241,255,0.92));
    box-shadow: 0 8px 18px rgba(31,61,143,.12);
  }
  @media (prefers-color-scheme: dark){ .nav-links{ background: rgba(18,22,28,0.86); box-shadow: 0 6px 14px rgba(0,0,0,.45); } }
  #nav-toggle:checked ~ .nav-links{ display:flex; }
  .nav-links a{ margin:0; padding:10px 4px; font-size:1.02rem; }
  .nav-links a::after{ bottom:-3px; height:3px; }

  /* Tipografia responsive */
  h1{ font-size: clamp(1.25rem, 5.2vw, 1.6rem); }
  h2{ font-size: clamp(1.1rem, 4.4vw, 1.4rem); }
  h3{ font-size: clamp(1rem, 3.8vw, 1.2rem); }
  p, li{ font-size:1rem; line-height:1.7; }

  /* Hero compatta */
  .hero{ text-align:center; padding:36px 14px; border-radius:12px; color:#fff;
         background: radial-gradient(120% 100% at 0% 0%, #1f3d8f 0%, #2d4fa3 45%, #182a73 100%); }
  .hero h2{ font-size: clamp(1.15rem, 4.8vw, 1.5rem); }

  /* Card + griglie */
  .card{ padding:16px; margin-bottom:18px; border-radius:12px;
         background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(232,241,255,0.92));
         box-shadow: 0 2px 10px rgba(31,61,143,.12); }
  .grid, .grid.two, .grid.three{ display:grid; grid-template-columns:1fr; gap:16px; }

  /* Callout / pill */
  .callout{ padding:12px 14px; }
  .pill-row{ gap:6px; } .pill{ padding:3px 9px; font-size:.8rem; }

  /* Titoli sezione */
  .section-title{ padding:6px 0 12px 10px; }
  .section-title .title-text::after{ bottom:-6px; height:3px; }

  /* Meta eventi */
  .event-meta{ font-size:.9rem; } .badge{ font-size:.72rem; padding:2px 7px; }
}

/* Accessibilità: meno animazioni se richiesto */
@media (prefers-reduced-motion: reduce){ *{ transition:none !important; } }
